<h1 class="title-page">Édition de matiere par formation</h1>
<div class="detail-container">
  <div class="form-group">
    <label for="start"><i class="bi bi-person-vcard"></i>Date de début:</label>
    <input
      type="date"
      id="start"
      [(ngModel)]="matiereParFormation.start"
      class="form-control"
    />
  </div>
  <!-- <div class="form-group">
    <label for="end">Date de fin:</label>
    <input
      type="date"
      id="end"
      [(ngModel)]="matiereParFormation.end"
      class="form-control"
    />
  </div> -->
  <div class="form-group">
    <label for="formation"><i class="bi bi-person-vcard"></i>Formation:</label>
    <select
      id="formation"
      [(ngModel)]="matiereParFormation.formation"
      class="form-control"
      [compareWith]="compareFnn"
    >
      @for(f of formationObservable|async ;track f.id ){
      <option [ngValue]="f">{{ f.nom }}</option>
      }
    </select>
  </div>
  <div class="form-group">
    <label for="matiere"><i class="bi bi-person-vcard"></i>Matière:</label>
    <select
      id="matiere"
      [(ngModel)]="matiereParFormation.matiere"
      class="form-control"
      [compareWith]="compareMn"
      (change)="matiereWithFormateur(matiereParFormation.matiere!)"
    >
      @for(m of matiereObservable|async ;track m.id ){
      <option [ngValue]="m">
        {{ m.libelle }}
      </option>
      }
    </select>
  </div>
  <div class="form-group">
    <label for="formateur"><i class="bi bi-person-vcard"></i>Formateur:</label>
    <select
      id="formateur"
      [(ngModel)]="matiereParFormation.formateur"
      class="form-control"
      [compareWith]="compareFrn"
    >
      @for(f of formateurObservable|async ;track f.id ){ @if (verifHidden(f)) {
      <option [ngValue]="f">{{ f.firstname }} {{ f.lastname }}</option>
      } }
    </select>
  </div>
  <div class="form-group">
    <label for="salle"><i class="bi bi-person-vcard"></i>Salle:</label>
    <select
      id="salle"
      [(ngModel)]="matiereParFormation.salle"
      class="form-control"
      [compareWith]="compareSn"
    >
      @for(s of salleObservable|async ;track s.id ){
      <option [ngValue]="s">{{ s.numero }}</option>
      }
    </select>
  </div>
  <div class="button-container">
    <button class="btn btn-outline-success" (click)="save()">
      <i class="bi bi-floppy2"></i> Enregistrer
    </button>
    <a
      routerLink="/matiereparformation"
      routerLinkActive="active"
      class="btn btn-outline-danger mx-2"
      ><i class="bi bi-arrow-return-left"></i> Annuler</a
    >
  </div>
</div>
